import{j as e,r as c,m as d,L as v,$ as p}from"./app-C96jTQFL.js";import{T as n,I as l}from"./TextInput-DOY7uQBY.js";import{I as m}from"./InputLabel-dWCcM8Nj.js";import{P as x}from"./PrimaryButton-BhWqg12S.js";import{G as N}from"./GuestLayout-CodJuB_3.js";function y({className:r="",...o}){return e.jsx("input",{...o,type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800 "+r})}function D({status:r,canResetPassword:o}){const[u,i]=c.useState(!1),[h,g]=c.useState(""),s=d({email:"",password:"",remember:!1}),a=d({email:"",otp:"",remember:!1}),b=t=>{t.preventDefault(),g(s.data.email),s.post(route("login.request-otp"),{onSuccess:()=>{i(!0),a.setData("email",s.data.email),a.setData("remember",s.data.remember)},preserveScroll:!0})},j=t=>{t.preventDefault(),a.post(route("login.verify-otp"),{onSuccess:()=>{},onError:()=>{}})},f=()=>{s.post(route("login.request-otp"),{onSuccess:()=>{},preserveScroll:!0})};return e.jsxs(N,{children:[e.jsx(v,{title:"Log in"}),e.jsxs("div",{className:"d-flex flex-column min-vh-100 align-items-center bg-light pt-3 justify-content-center",children:[e.jsxs("a",{className:"navbar-brand cursor-pointer",href:route("home"),style:{color:"#006838",fontWeight:"600"},children:[e.jsx("img",{src:"assets/images/online.png",alt:"Logo",style:{width:"40px"}}),"Telemedicine"]}),e.jsxs("div",{className:"mt-3 w-100 bg-white p-4 shadow-sm rounded",style:{maxWidth:"400px"},children:[r&&e.jsx("div",{className:"mb-3 text-success small",children:r}),u?e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"mb-3 text-center",children:[e.jsx("h5",{children:"Verification Code"}),e.jsxs("p",{className:"small",children:["We've sent a verification code to ",e.jsx("strong",{children:h})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{htmlFor:"otp",value:"Enter OTP Code"}),e.jsx(n,{id:"otp",type:"text",name:"otp",value:a.data.otp,className:"form-control",isFocused:!0,onChange:t=>a.setData("otp",t.target.value),maxLength:6}),e.jsx(l,{message:a.errors.otp,className:"text-danger small"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("button",{type:"button",onClick:f,className:"text-decoration-none text-primary small border-0 bg-transparent",disabled:s.processing,children:"Resend Code"}),e.jsx(x,{className:"btn btn-primary",disabled:a.processing,children:"Verify & Login"})]}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("button",{type:"button",onClick:()=>i(!1),className:"text-decoration-none text-primary small border-0 bg-transparent",children:"Go back"})})]}):e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(m,{htmlFor:"email",value:"Email"}),e.jsx(n,{id:"email",type:"email",name:"email",value:s.data.email,className:"form-control",autoComplete:"username",isFocused:!0,onChange:t=>s.setData("email",t.target.value)}),e.jsx(l,{message:s.errors.email,className:"text-danger small"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(m,{htmlFor:"password",value:"Password"}),e.jsx(n,{id:"password",type:"password",name:"password",value:s.data.password,className:"form-control",autoComplete:"current-password",onChange:t=>s.setData("password",t.target.value)}),e.jsx(l,{message:s.errors.password,className:"text-danger small"})]}),e.jsxs("div",{className:"form-check mb-3",children:[e.jsx(y,{id:"remember",name:"remember",checked:s.data.remember,onChange:t=>s.setData("remember",t.target.checked),className:"form-check-input"}),e.jsx("label",{className:"form-check-label",htmlFor:"remember",children:"Remember me"})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[o&&e.jsx(p,{href:route("password.request"),className:"text-decoration-none text-primary small",children:"Forgot your password?"}),e.jsx(x,{className:"btn btn-primary",disabled:s.processing,children:"Continue"})]})]}),e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("span",{className:"small",children:"Don't have an account? "}),e.jsx(p,{href:route("register"),style:{marginLeft:"3px"},className:"text-decoration-none text-primary small",children:"Sign up"})]})]})]})]})}export{D as default};
